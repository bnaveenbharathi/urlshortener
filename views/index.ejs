<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        URL Shortener
    </title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css"
        integrity="sha384-r4NyP46KrjDleawBgD5tp8Y7UzmLA05oM1iAEQ17CSuDqnUK2+k9luXQOfXJCJ4I" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js"
        integrity="sha384-oesi62hOLfzrys4LxRF63OJCXdXDipiYWBnvTl9Y9/TRlw5xlKIEHpNyvvDShgf/"
        crossorigin="anonymous"></script>
    <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/2.1.0/uicons-bold-rounded/css/uicons-bold-rounded.css'>
    <link rel="shortcut icon"
        href="https://store-images.s-microsoft.com/image/apps.9386.14180743504099317.323dce0b-85d9-4eb1-96f4-a546e9614cd6.9c07a192-c99e-4bb9-88b7-23e411e8ff6d"
        type="image/x-icon">
    <link rel='stylesheet'
        href='https://cdn-uicons.flaticon.com/2.1.0/uicons-solid-straight/css/uicons-solid-straight.css'>
    <style>
        .inputurl {
            padding: 6px 12px;
        }
    </style>
</head>

<body>

    <div class="main container">
        <h1 class="mt-5">Url Shrinker</h1>
        <form action="/shortUrls" method="POST" class="my-4 form-inline">
            <label for="fullUrl" class="sr-only">Url</label>
            <input required type="url" name="fullUrl" id="fullUrl" placeholder="Url" class="mr-2 inputurl">
            <button type="submit" class="btn btn-success ">Shrink</button>
            <button class="btn btn-success refreshbtn" type="button"><i class="fi fi-br-refresh"></i></button>
        </form>
        <table class="table table-striped table-responsive">
            <thead>
                <tr>
                    <th>Full url</th>
                    <th>Short url</th>
                    <th>clicks</th>
                
                </tr>
            </thead>
            <tbody>
                <% shortUrls.forEach(shortUrl=>{ %>
                    <tr>
                        <td><a href="<%= shortUrl.full %> " target="_blank">
                                <%= shortUrl.full %>
                            </a></td>
                        <td><a href="<%= shortUrl.short %>" target="_blank">
                                <%= shortUrl.short %>
                            </a></td>
                        <td>
                            <%= shortUrl.clicks %>
                        </td>
                       
                    </tr>
                    <% }) %>
            </tbody>
        </table>
    </div>


    <script>
        const refreshbtn = document.querySelector('.refreshbtn')
        refreshbtn.addEventListener('click', () => {
            location.reload(true)
        })
        addEventListener('click', (e) => {
            if (e.target.classList.contains('deletebtn')) {
                e.target.closest('tr').remove();
                taskcount--
            }
        })
        

    </script>

</body>

</html>